# MTProxy 一键管理脚本 (Go / Python 双内核版)

**全能、极速、完美的 MTProxy 搭建脚本。**

专为生产环境设计，支持 **Debian/Ubuntu** 和 **Alpine Linux** 双系统。独家支持 **Go** (高性能) 和 **Python** (多功能) 双内核自由切换，采用**预编译二进制**模式部署，安装速度快如闪电。

## ✨ 核心特性

*   **🐧 双系统支持**: 
    *   **Debian / Ubuntu / CentOS**: 完美支持 Systemd 管理。
    *   **Alpine Linux**: 完美支持 OpenRC 管理 (极其省内存，推荐小内存机器使用)。
*   **🚀 双内核架构**:
    *   **Go 版 (mtg)**: 推荐首选。内存占用极低，性能强悍，抗重放攻击。
    *   **Python 版**: 经典版本。支持 **AD TAG** (推广频道) 功能，适合有营销需求的用户。
*   **🛡 增强型守护**: 
    *   支持开机自启，内置了**进程守护 (Watchdog)** 功能。如果代理进程意外崩溃（如 OOM），系统会在 3 秒内自动重启它，确保持续在线。
*   **🔧 灵活管理**:
    *   **修改配置**: 可随时修改端口和伪装域名，自动重载服务。
    *   **定点删除**: 支持单独删除 Go 或 Python 版服务，不影响另一个的运行。
    *   **彻底卸载**: 支持一键全自动卸载，并自我销毁脚本，不留任何痕迹。

---

## 📥 安装与使用

**快捷命令：mtp**

```
(curl -LfsS https://raw.githubusercontent.com/sever158/MTProxy/main/mtp.sh -o /usr/local/bin/mtp || wget -q https://raw.githubusercontent.com/sever158/MTProxy/main/mtp.sh -O /usr/local/bin/mtp) && chmod +x /usr/local/bin/mtp && mtp
```


### 2. 脚本菜单说明

运行脚本后，您将看到以下菜单：

```text
==================================
     MTProxy 综合管理脚本
==================================
系统信息: debian (systemd)
Go     版: 未安装
Python 版: 未安装
==================================
1. 安装/配置 MTProxy (Go 版 - 推荐)      
2. 安装/配置 MTProxy (Python 版 - 备用)   
----------------------------------
3. 查看详细连接信息                     
4. 启动服务
5. 停止服务
6. 重启服务
7. 修改服务配置 (端口/域名)              
8. 删除服务配置 (选择删除)               
----------------------------------
9. 卸载服务                             
0. 退出
==================================
```

---
